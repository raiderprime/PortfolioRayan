<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Galerie Web Development</title>
    <link rel="stylesheet" href="siteprocss.css">
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;700&display=swap" rel="stylesheet">
    <style>
        .hidden-gallery-list { display: none; }
    </style>
</head>
<body>

    <header class="hero-small">
        <div class="container">
            <span class="tag">Code</span>
            <h1>Développement Web</h1>
            <p class="subtitle">Aperçu du code source de ce site.</p>
        </div>
    </header>

    <section class="portfolio">
        <div class="container">
            <div class="gallery-duo">
                
                <div class="project-item-wrapper">
                    
                    <div class="screenshot-container">
                        <img src="html1.png" alt="Code HTML" class="cover-trigger">
                    </div>
                    
                    <div class="info">
                        <h3>Structure HTML5</h3>
                        <p>L'ossature du site (balises header, section, div...).</p>
                    </div>

                    <div class="hidden-gallery-list">
                        <img src="html1.png" alt="Code HTML">
                        <img src="html2.png" alt="image2">
                        <img src="html3.png" alt="image3">
                        <img src="html4.png" alt="image4">
                    </div>

                </div>


                <div class="project-item-wrapper">
                    
                    <div class="screenshot-container">
                        <img src="css1.png" alt="Code CSS" class="cover-trigger">
                    </div>
                    
                    <div class="info">
                        <h3>Design CSS3</h3>
                        <p>La mise en forme (Flexbox, Grid, Couleurs et Responsive).</p>
                    </div>

                    <div class="hidden-gallery-list">
                        <img src="css1.png" alt="Code CSS">
                        <img src="css2.png" alt="Image2">
                        <img src="css3.png" alt="Image3">
                        <img src="css4.png" alt="Image4">
                        <img src="css5.png" alt="Image5">
                    </div>

                </div>

            </div>
        </div>
    </section>

    <div class="bottom-nav">
        <a href="index.html" class="btn-outline">← Retour à l'accueil</a>
    </div>

    <div id="lightbox-overlay">
        <span class="close-btn">&times;</span>
        <span class="lightbox-nav prev-btn">&#10094;</span>
        <span class="lightbox-nav next-btn">&#10095;</span>
        <img id="full-image" src="#" alt="Image entiere">
    </div>
    <footer id="contact" class="footer">
        <div class="container">
            <p style="color: #666;">© 2025 - Rayan Design</p>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const triggers = document.querySelectorAll('.cover-trigger');
            const overlay = document.getElementById('lightbox-overlay');
            const fullImage = document.getElementById('full-image');
            const closeBtn = document.querySelector('.close-btn');
            const prevBtn = document.querySelector('.prev-btn');
            const nextBtn = document.querySelector('.next-btn');

            let currentAlbum = [];
            let currentIndex = 0;

            triggers.forEach(trigger => {
                trigger.addEventListener('click', function() {
                    const parentWrapper = this.closest('.project-item-wrapper');
                    const hiddenListDiv = parentWrapper.querySelector('.hidden-gallery-list');
                    const albumImages = hiddenListDiv.querySelectorAll('img');

                    currentAlbum = [];
                    albumImages.forEach(img => { currentAlbum.push(img.src); });

                    if (currentAlbum.length === 0) currentAlbum.push(this.src);

                    currentIndex = 0;
                    updateImage();
                    overlay.classList.add('active');
                });
            });

            function updateImage() { fullImage.src = currentAlbum[currentIndex]; }

            nextBtn.addEventListener('click', (e) => {
                e.stopPropagation();
                currentIndex = (currentIndex + 1) % currentAlbum.length;
                updateImage();
            });

            prevBtn.addEventListener('click', (e) => {
                e.stopPropagation();
                currentIndex = (currentIndex - 1 + currentAlbum.length) % currentAlbum.length;
                updateImage();
            });

            const closeLightbox = () => {
                overlay.classList.remove('active');
                setTimeout(() => { fullImage.src = ""; }, 300);
            };

            closeBtn.addEventListener('click', closeLightbox);
            overlay.addEventListener('click', (e) => { if(e.target === overlay) closeLightbox(); });
            document.addEventListener('keydown', (e) => {
                if (!overlay.classList.contains('active')) return;
                if (e.key === "ArrowRight") nextBtn.click();
                if (e.key === "ArrowLeft") prevBtn.click();
                if (e.key === "Escape") closeLightbox();
            });
        });
    </script>

</body>

</html>
